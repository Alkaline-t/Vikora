/* Comprehensive Mobile Responsiveness */

/* Base Mobile Styles - Ensures text is readable on all devices */
:root {
    /* Dynamic font sizes that scale with viewport */
    --min-font-size: 14px;
    --max-font-size: 18px;
    --min-viewport: 280px;  /* Smallest mobile width */
    --max-viewport: 2560px; /* 4K screens */
}

/* Fluid Typography */
@media screen and (min-width: 280px) {
    body {
        font-size: clamp(var(--min-font-size), 1rem + 0.5vw, var(--max-font-size));
        line-height: 1.5;
    }
}

/* Extra Small Devices (Fold phones, < 360px) */
@media screen and (max-width: 359px) {
    .app-wrapper {
        padding: 0 0.75rem;
    }

    .brand-text {
        font-size: 1rem;
    }

    .nav-tools button {
        padding: 0.4rem !important;
        min-width: 2rem !important;
        min-height: 2rem !important;
    }

    .hero-title {
        font-size: 1.75rem !important;
        line-height: 1.3;
    }

    .hero-description {
        font-size: 1rem;
    }

    .cta-button, 
    .primary-button,
    .secondary-button {
        padding: 0.5rem 1rem !important;
        font-size: 0.875rem !important;
        min-height: 2.5rem;
    }
}

/* Small Devices (Most phones, 360px and up) */
@media screen and (min-width: 360px) and (max-width: 480px) {
    .app-wrapper {
        padding: 0 1rem;
    }

    .hero-title {
        font-size: 2rem !important;
    }
}

/* Medium Devices (Large phones, tablets, 481px and up) */
@media screen and (min-width: 481px) and (max-width: 768px) {
    .app-wrapper {
        padding: 0 1.25rem;
    }
}

/* Universal Mobile Styles */
@media screen and (max-width: 768px) {
    /* Improve touch targets */
    button,
    a,
    .nav-link,
    .menu-item {
        min-height: 44px; /* Apple's recommended minimum */
        min-width: 44px;
        padding: 0.5rem 1rem;
        touch-action: manipulation;
    }

    /* Prevent overflow issues */
    img,
    video,
    iframe {
        max-width: 100%;
        height: auto;
    }

    /* Improve form elements */
    input,
    select,
    textarea {
        font-size: 16px !important; /* Prevent iOS zoom */
        padding: 0.75rem !important;
        margin: 0.5rem 0;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }

    /* Card and content adjustments */
    .card,
    .feature-card,
    .career-card,
    .testimonial-card {
        margin: 0.75rem 0;
        padding: 1rem !important;
        width: 100% !important;
        box-sizing: border-box;
    }

    /* Grid adjustments */
    .grid,
    .grid-container {
        display: grid;
        grid-template-columns: 1fr !important;
        gap: 1rem;
        padding: 0.5rem;
    }

    /* Section spacing */
    section,
    .section {
        padding: 2rem 0 !important;
        margin: 1rem 0 !important;
    }

    /* Fix sticky header */
    .navbar {
        position: sticky;
        top: 0;
        z-index: 1000;
        padding: 0.5rem;
    }

    /* Improve table responsiveness */
    table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
        max-width: 100%;
    }

    /* Fix modal dialogs */
    .modal,
    .dialog {
        padding: 1rem;
        width: 90% !important;
        max-height: 80vh;
        overflow-y: auto;
    }

    /* Improve dropdown menus */
    .dropdown-menu,
    .menu-content {
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        max-height: 75vh;
        width: 100%;
        border-radius: 1rem 1rem 0 0;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        padding: 1rem;
        z-index: 1000;
    }

    /* Improve list readability */
    ul, ol {
        padding-left: 1.5rem;
    }

    li {
        margin: 0.5rem 0;
    }

    /* Fix icon sizes */
    .icon,
    .ph {
        font-size: 1.25rem !important;
    }

    /* Improve spacing between sections */
    * + * {
        margin-top: 0.5rem;
    }

    /* Fix font sizes for better readability */
    h1 { font-size: clamp(1.75rem, 5vw, 2.5rem) !important; }
    h2 { font-size: clamp(1.5rem, 4vw, 2rem) !important; }
    h3 { font-size: clamp(1.25rem, 3vw, 1.75rem) !important; }
    h4 { font-size: clamp(1.1rem, 2vw, 1.5rem) !important; }
    p { font-size: clamp(0.875rem, 1.5vw, 1rem); }

    /* Fix button groups */
    .button-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .button-group > * {
        width: 100%;
        margin: 0;
    }

    /* Improve navigation */
    .nav-container {
        padding: 0.5rem;
    }

    .nav-menu {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--bg-color);
        padding: 1rem;
        z-index: 1000;
        overflow-y: auto;
    }

    /* Fix scrolling */
    body.menu-open {
        overflow: hidden;
    }

    /* Improve carousel/slider */
    .carousel,
    .slider {
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
    }

    .carousel-item,
    .slide {
        scroll-snap-align: start;
        flex-shrink: 0;
        width: 100%;
    }
}

/* High DPI Screen Optimizations */
@media screen and (min-resolution: 192dpi) {
    * {
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* Landscape Mode Optimizations */
@media screen and (max-width: 768px) and (orientation: landscape) {
    .hero-section {
        min-height: auto !important;
        padding: 2rem 0;
    }

    .modal,
    .dialog {
        max-height: 90vh;
    }

    .dropdown-menu,
    .menu-content {
        max-height: 85vh;
    }
}

/* Prevent content from being hidden under notches or rounded corners */
@supports(padding: max(0px)) {
    .app-wrapper {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
    }

    .navbar {
        padding-top: max(0.5rem, env(safe-area-inset-top));
    }

    .footer {
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
}